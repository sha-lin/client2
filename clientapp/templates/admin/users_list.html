{% extends 'admin/generic_list.html' %}
{% load humanize %}

{% block filter_controls %}
    <select name="is_staff" onchange="this.form.submit()" style="padding: 8px 12px; border: 1px solid #e2e8f0; border-radius: 6px;">
        <option value="">All Users</option>
        <option value="true">Staff Only</option>
        <option value="false">Regular Only</option>
    </select>
{% endblock %}

{% block table_header %}
    <tr>
        <th>Username</th>
        <th>Email</th>
        <th>Full Name</th>
        <th>Staff</th>
        <th>Joined</th>
        <th>Actions</th>
    </tr>
{% endblock %}

{% block table_body %}
    {% for user in page_obj %}
        <tr>
            <td><a href="{% url 'admin_user_detail' user.pk %}" style="color: #3b82f6;">{{ user.username }}</a></td>
            <td>{{ user.email }}</td>
            <td>{{ user.get_full_name|default:'-' }}</td>
            <td><span class="badge {% if user.is_staff %}badge-success{% else %}badge-warning{% endif %}">{% if user.is_staff %}Yes{% else %}No{% endif %}</span></td>
            <td>{{ user.date_joined|date:"M d, Y" }}</td>
            <td><a href="{% url 'admin_user_detail' user.pk %}" class="action-btn">Edit</a> | <a href="{% url 'admin_user_delete' user.pk %}" class="action-btn danger">Delete</a></td>
        </tr>
    {% endfor %}
{% endblock %}
