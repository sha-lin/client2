{% extends 'admin/generic_list.html' %}
{% load humanize %}

{% block filter_controls %}
    <select name="status" onchange="this.form.submit()" style="padding: 8px 12px; border: 1px solid #e2e8f0; border-radius: 6px;">
        <option value="">All</option>
        <option value="pending">Pending</option>
        <option value="in_progress">In Progress</option>
        <option value="completed">Completed</option>
    </select>
{% endblock %}

{% block table_header %}
    <tr>
        <th>Job ID</th>
        <th>Client</th>
        <th>Status</th>
        <th>Created</th>
        <th>Actions</th>
    </tr>
{% endblock %}

{% block table_body %}
    {% for job in page_obj %}
        <tr>
            <td><a href="{% url 'admin_job_detail' job.pk %}" style="color: #3b82f6;">{{ job.job_number }}</a></td>
            <td>{{ job.quote.client.name|default:'-' }}</td>
            <td><span class="badge badge-warning">{{ job.job_status }}</span></td>
            <td>{{ job.created_at|date:"M d, Y" }}</td>
            <td><a href="{% url 'admin_job_detail' job.pk %}" class="action-btn">Edit</a> | <a href="{% url 'admin_job_delete' job.pk %}" class="action-btn danger">Delete</a></td>
        </tr>
    {% endfor %}
{% endblock %}
