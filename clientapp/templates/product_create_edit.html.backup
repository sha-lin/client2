{% extends 'base.html' %}

{% block title %}{% if product %}Edit Product{% else %}Add Product{% endif %} - Production Management{% endblock %}

{% block content %}
<div class="p-8 max-w-7xl mx-auto">
    <!-- Header -->
    <div class="mb-6">
        <a href="{% url 'production_catalog' %}"
            class="inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4">
            <i data-lucide="arrow-left" class="w-4 h-4"></i>
            ← Back to Products
        </a>

        <div class="flex items-start justify-between">
            <div>
                <div class="flex items-center gap-3 mb-2">
                    <h1 class="text-2xl font-semibold text-gray-900">
                        {% if product %}{{ product.name }}{% else %}Premium Business Cards{% endif %}
                    </h1>
                    <span class="px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded flex items-center gap-1">
                        <i data-lucide="circle" class="w-2 h-2 fill-current"></i> Draft
                    </span>
                </div>
                <p class="text-sm text-gray-500">
                    {% if product %}{{ product.sku }}{% else %}[PRD-BC-001]{% endif %} • Last saved: 2 minutes ago
                </p>
            </div>

            <div class="flex items-center gap-2">
                <button type="button"
                    class="px-4 py-2 border border-gray-300 rounded-md text-sm hover:bg-gray-50 flex items-center gap-2">
                    <i data-lucide="eye" class="w-4 h-4"></i>
                    Preview
                </button>
                <button type="button" class="px-4 py-2 border border-gray-300 rounded-md text-sm hover:bg-gray-50">
                    Save Draft
                </button>
                <button type="submit" form="productForm"
                    class="px-4 py-2 bg-black text-white rounded-md text-sm hover:bg-gray-800 flex items-center gap-2">
                    <i data-lucide="save" class="w-4 h-4"></i>
                    Publish
                </button>
            </div>
        </div>
    </div>

    <!-- Tabs -->
    <div class="mb-6">
        <div class="border-b border-gray-200">
            <nav class="flex gap-1">
                <button class="tab-button active px-4 py-3 border-b-2 border-black text-black font-medium text-sm"
                    data-tab="general">
                    General Info
                </button>
                <button
                    class="tab-button px-4 py-3 border-b-2 border-transparent text-gray-600 hover:text-gray-900 text-sm"
                    data-tab="pricing">
                    Pricing & Variables
                </button>
                <button
                    class="tab-button px-4 py-3 border-b-2 border-transparent text-gray-600 hover:text-gray-900 text-sm"
                    data-tab="images">
                    Images & Media
                </button>
                <button
                    class="tab-button px-4 py-3 border-b-2 border-transparent text-gray-600 hover:text-gray-900 text-sm"
                    data-tab="ecommerce">
                    E-commerce & SEO
                </button>
                <button
                    class="tab-button px-4 py-3 border-b-2 border-transparent text-gray-600 hover:text-gray-900 text-sm"
                    data-tab="analytics">
                    Analytics
                </button>
                <button
                    class="tab-button px-4 py-3 border-b-2 border-transparent text-gray-600 hover:text-gray-900 text-sm"
                    data-tab="production">
                    Production
                </button>
                <button
                    class="tab-button px-4 py-3 border-b-2 border-transparent text-gray-600 hover:text-gray-900 text-sm"
                    data-tab="history">
                    History
                </button>
            </nav>
        </div>
    </div>

    <!-- Form -->
    <form id="productForm" method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <!-- Tab Content -->
        <div id="tabContent">
            <!-- General Info Tab -->
            <div class="tab-content" data-content="general">
                <!-- Basic Product Information -->
                <div class="bg-white rounded-lg border border-gray-200 p-6 mb-6">
                    <h3 class="text-base font-semibold text-gray-900 mb-4">Basic Product Information</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-900 mb-1">
                                Product Name <span class="text-red-500">*</span>
                            </label>
                            <input type="text" name="name" required value="Premium Business Cards"
                                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            <p class="text-xs text-gray-500 mt-1">Customer-facing name</p>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-900 mb-1">
                                Internal Code <span class="text-red-500">*</span>
                            </label>
                            <div class="flex gap-2">
                                <input type="text" name="internal_code" required value="PRD-BC-001"
                                    class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <label
                                    class="flex items-center gap-2 px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-sm text-gray-700 whitespace-nowrap">
                                    <input type="checkbox" name="auto_generate_code" class="rounded">
                                    Auto-generate
                                </label>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-900 mb-1">
                                Short Description <span class="text-red-500">*</span>
                            </label>
                            <input type="text" name="short_description" maxlength="150"
                                value="Professional business cards on premium card stock with custom finishing options"
                                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            <p class="text-xs text-gray-500 mt-1">Character count: 87/150</p>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-900 mb-1">
                                Long Description <span class="text-red-500">*</span>
                            </label>
                            <div class="border border-gray-300 rounded-md">
                                <div class="flex gap-1 p-2 border-b border-gray-300 bg-gray-50">
                                    <button type="button"
                                        class="px-2 py-1 text-sm font-semibold hover:bg-gray-200 rounded">Bold</button>
                                    <button type="button"
                                        class="px-2 py-1 text-sm italic hover:bg-gray-200 rounded">Italic</button>
                                    <button type="button"
                                        class="px-2 py-1 text-sm hover:bg-gray-200 rounded">List</button>
                                    <button type="button"
                                        class="px-2 py-1 text-sm hover:bg-gray-200 rounded">Link</button>
                                </div>
                                <textarea name="long_description" rows="3"
                                    class="w-full px-3 py-2 resize-none focus:outline-none focus:ring-0 border-0">Make a lasting impression with our premium business cards. Printed on high-quality card stock with a variety of finishing options to suit your brand. Perfect for professionals, entrepreneurs, and businesses of all sizes.</textarea>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-900 mb-1">Technical Specifications</label>
                            <input type="text" name="technical_specs"
                                value="Size: 85×55mm, Material: Card stock, Finishing: Various options, Print method: Digital offset"
                                class="w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        </div>
                    </div>
                </div>

                <!-- Classification -->
                <div class="bg-white rounded-lg border border-gray-200 p-6 mb-6">
                    <h3 class="text-base font-semibold text-gray-900 mb-4">Classification</h3>
                    <div class="space-y-4">
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-900 mb-1">
                                    Primary Category <span class="text-red-500">*</span>
                                </label>
                                <select name="primary_category" required
                                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    <option value="print-products" selected>Print Products</option>
                                    <option value="signage">Signage</option>
                                    <option value="apparel">Apparel</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-900 mb-1">
                                    Sub-Category <span class="text-red-500">*</span>
                                </label>
                                <select name="sub_category" required
                                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    <option value="business-cards" selected>Business Cards</option>
                                    <option value="flyers">Flyers</option>
                                    <option value="brochures">Brochures</option>
                                </select>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-900 mb-2">
                                Product Type <span class="text-red-500">*</span>
                            </label>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="product_type" value="physical" checked
                                        class="mr-2 text-blue-600">
                                    <span class="text-sm text-gray-900">Physical Product</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="product_type" value="digital" class="mr-2 text-blue-600">
                                    <span class="text-sm text-gray-700">Digital Product</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="product_type" value="service" class="mr-2 text-blue-600">
                                    <span class="text-sm text-gray-700">Service</span>
                                </label>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-900 mb-1">Product Family</label>
                            <select name="product_family"
                                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <option value="business-cards-family" selected>Business Cards Family</option>
                                <option value="marketing-materials">Marketing Materials</option>
                                <option value="corporate-stationery">Corporate Stationery</option>
                            </select>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-900 mb-2">Tags</label>
                            <div class="flex flex-wrap gap-2 mb-2">
                                <span
                                    class="inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-700 text-sm rounded">
                                    business-cards
                                    <button type="button" class="text-gray-500 hover:text-gray-700">×</button>
                                </span>
                                <span
                                    class="inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-700 text-sm rounded">
                                    printing
                                    <button type="button" class="text-gray-500 hover:text-gray-700">×</button>
                                </span>
                                <span
                                    class="inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-700 text-sm rounded">
                                    corporate
                                    <button type="button" class="text-gray-500 hover:text-gray-700">×</button>
                                </span>
                                <span
                                    class="inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-700 text-sm rounded">
                                    premium
                                    <button type="button" class="text-gray-500 hover:text-gray-700">×</button>
                                </span>
                                <span
                                    class="inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-700 text-sm rounded">
                                    branding
                                    <button type="button" class="text-gray-500 hover:text-gray-700">×</button>
                                </span>
                            </div>
                            <div class="flex gap-2">
                                <input type="text" name="new_tag" placeholder="Add tag and press Enter"
                                    class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <button type="button"
                                    class="px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50">
                                    Add
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Status & Visibility -->
                <div class="bg-white rounded-lg border border-gray-200 p-6 mb-6">
                    <h3 class="text-base font-semibold text-gray-900 mb-4">Status & Visibility</h3>
                    <div class="space-y-4">
                        <div>
                            <div class="flex items-center justify-between">
                                <div>
                                    <label class="block text-sm font-medium text-gray-900">Product Status</label>
                                    <p class="text-xs text-blue-600">Visible to customers?</p>
                                </div>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" name="is_visible" checked class="sr-only peer">
                                    <div
                                        class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600">
                                    </div>
                                </label>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-900 mb-1">Visibility</label>
                            <select name="visibility"
                                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <option value="catalog-search" selected>Catalog and Search</option>
                                <option value="catalog-only">Catalog Only</option>
                                <option value="search-only">Search Only</option>
                                <option value="hidden">Hidden</option>
                            </select>
                        </div>

                        <div class="grid grid-cols-2 gap-4">
                            <label class="flex items-center">
                                <input type="checkbox" name="feature_product" class="mr-2 rounded text-blue-600">
                                <span class="text-sm text-gray-700">Feature this product</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" name="bestseller_badge" class="mr-2 rounded text-blue-600">
                                <span class="text-sm text-gray-700">Bestseller badge</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" name="new_arrival" checked class="mr-2 rounded text-blue-600">
                                <span class="text-sm text-gray-700">New arrival (expires: Dec 31, 2024)</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" name="on_sale_badge" class="mr-2 rounded text-blue-600">
                                <span class="text-sm text-gray-700">On sale badge</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Product Attributes -->
                <div class="bg-white rounded-lg border border-gray-200 p-6 mb-6">
                    <h3 class="text-base font-semibold text-gray-900 mb-4">Product Attributes</h3>
                    <div class="space-y-4">
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-900 mb-1">Unit of Measure</label>
                                <select name="unit_of_measure"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    <option value="pieces" selected>Pieces</option>
                                    <option value="packs">Packs</option>
                                    <option value="sets">Sets</option>
                                    <option value="sqm">m²</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-900 mb-1">Weight (for
                                    shipping)</label>
                                <div class="flex gap-2">
                                    <input type="number" name="weight" value="0.05" step="0.01"
                                        class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    <select name="weight_unit"
                                        class="px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                        <option value="kg" selected>kg</option>
                                        <option value="g">g</option>
                                        <option value="lb">lb</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-900 mb-1">Dimensions (L × W × H)</label>
                            <div class="flex gap-2">
                                <input type="number" name="length" value="8.5" step="0.1" placeholder="L"
                                    class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <input type="number" name="width" value="5.5" step="0.1" placeholder="W"
                                    class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <input type="number" name="height" value="0.03" step="0.01" placeholder="H"
                                    class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <select name="dimension_unit"
                                    class="px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    <option value="cm" selected>cm</option>
                                    <option value="mm">mm</option>
                                    <option value="in">in</option>
                                </select>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-900 mb-1">Warranty/Guarantee</label>
                            <select name="warranty"
                                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <option value="satisfaction-guarantee" selected>Satisfaction Guarantee - Reprint if
                                    defective</option>
                                <option value="no-warranty">No Warranty</option>
                                <option value="30-days">30 Days</option>
                                <option value="90-days">90 Days</option>
                            </select>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-900 mb-1">Country of Origin</label>
                            <select name="country_of_origin"
                                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <option value="kenya" selected>Kenya</option>
                                <option value="china">China</option>
                                <option value="india">India</option>
                                <option value="uae">UAE</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Notes & Comments -->
                <div class="bg-white rounded-lg border border-gray-200 p-6 mb-6">
                    <h3 class="text-base font-semibold text-gray-900 mb-4">Notes & Comments</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-900 mb-1">Internal Notes</label>
                            <textarea name="internal_notes" rows="2"
                                class="w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">Popular with corporate clients. Rush orders common in December.</textarea>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-900 mb-1">Client-Facing Notes</label>
                            <textarea name="client_notes" rows="2"
                                class="w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">Artwork must be submitted 24 hours before production.</textarea>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="flex items-center justify-between">
                    <button type="button" class="px-4 py-2 text-gray-700 hover:text-gray-900">
                        Save Draft
                    </button>
                    <button type="submit" class="px-6 py-2 bg-black text-white rounded-md hover:bg-gray-800">
                        <div class="flex items-center justify-between mb-4">
                            <div>
                                <h3 class="text-lg font-medium text-gray-900">Product Images</h3>
                                <p class="text-sm text-gray-600">Upload and manage product images (min 1200×1200px)</p>
                            </div>
                            <button type="button"
                                class="px-4 py-2 bg-black text-white rounded-lg text-sm hover:bg-gray-800 flex items-center gap-2">
                                <i data-lucide="upload" class="w-4 h-4"></i>
                                Upload Images
                            </button>
                        </div>

                        <div class="grid grid-cols-4 gap-4">
                            <!-- Primary Image Placeholder -->
                            <div
                                class="border-2 border-dashed border-blue-500 rounded-lg h-48 flex items-center justify-center cursor-pointer hover:border-blue-600 hover:bg-blue-50 transition-all">
                                <div class="text-center">
                                    <i data-lucide="upload" class="w-8 h-8 text-blue-500 mx-auto mb-2"></i>
                                    <span class="text-sm text-blue-600 font-medium">Main Product Image</span>
                                    <p class="text-xs text-gray-500 mt-1">Drag & drop or click to browse</p>
                                    <p class="text-xs text-gray-400 mt-1">Recommended: 1280×1280px, PNG/JPG, Max 2MB</p>
                                </div>
                            </div>

                            <!-- Additional Image Slots -->
                            <div
                                class="border-2 border-dashed border-gray-300 rounded-lg h-48 flex items-center justify-center cursor-pointer hover:border-gray-400 hover:bg-gray-50 transition-all">
                                <div class="text-center">
                                    <i data-lucide="image" class="w-8 h-8 text-gray-400 mx-auto mb-2"></i>
                                    <span class="text-sm text-gray-600">Image 2</span>
                                </div>
                            </div>

                            <div
                                class="border-2 border-dashed border-gray-300 rounded-lg h-48 flex items-center justify-center cursor-pointer hover:border-gray-400 hover:bg-gray-50 transition-all">
                                <div class="text-center">
                                    <i data-lucide="image" class="w-8 h-8 text-gray-400 mx-auto mb-2"></i>
                                    <span class="text-sm text-gray-600">Image 3</span>
                                </div>
                            </div>

                            <div
                                class="border-2 border-dashed border-gray-300 rounded-lg h-48 flex items-center justify-center cursor-pointer hover:border-gray-400 hover:bg-gray-50 transition-all">
                                <div class="text-center">
                                    <i data-lucide="plus" class="w-8 h-8 text-gray-400 mx-auto mb-2"></i>
                                    <span class="text-sm text-gray-600">Add Image</span>
                                </div>
                            </div>
                        </div>
                </div>

                <div class="bg-white rounded-lg border border-gray-200 p-6">
                    <div class="flex items-center justify-between mb-4">
                        <div>
                            <h3 class="text-lg font-medium text-gray-900">Product Videos (Optional)</h3>
                            <p class="text-sm text-gray-600">Supported: YouTube, Vimeo, Direct MP4 links</p>
                        </div>
                        <button type="button"
                            class="px-3 py-1 border border-gray-200 rounded text-sm hover:bg-gray-50 flex items-center gap-1">
                            <i data-lucide="plus" class="w-4 h-4"></i>
                            Add Video
                        </button>
                    </div>
                </div>
            </div>

            <!-- E-commerce & SEO Tab -->
            <div class="tab-content hidden" data-content="ecommerce">
                <div class="bg-white rounded-lg border border-gray-200 p-6 mb-6">
                    <h3 class="text-lg font-medium text-gray-900 mb-4">SEO Optimization</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Meta Title</label>
                            <input type="text" name="meta_title" maxlength="60"
                                value="Premium Business Cards - Custom Printing | Print Duka"
                                class="w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <p class="text-xs text-gray-500 mt-1">Character count: 52/60</p>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Meta Description</label>
                            <textarea name="meta_description" maxlength="160" rows="3"
                                class="w-full px-3 py-2 border border-gray-200 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500">Professional business cards on premium card stock. Fast turnaround, custom options. Order from 50 pieces. Free design review.</textarea>
                            <p class="text-xs text-gray-500 mt-1">Character count: 145/160</p>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">URL Slug</label>
                            <input type="text" name="slug" value="premium-business-cards"
                                class="w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <p class="text-xs text-gray-500 mt-1">Full URL:
                                print-duka.com/products/premium-business-cards</p>
                            <label class="flex items-center mt-2">
                                <input type="checkbox" name="auto_generate_slug" checked class="mr-2">
                                <span class="text-sm text-gray-600">Auto-generate from product name</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Analytics Tab -->
            <div class="tab-content hidden" data-content="analytics">
                <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mb-6">
                    <p class="text-sm text-blue-700">
                        <i data-lucide="info" class="w-4 h-4 inline mr-1"></i>
                        <strong>Note:</strong> This tab shows data AFTER product has been published and has activity.
                        For new products, shown "No data yet".
                    </p>
                </div>

                <div class="bg-white rounded-lg border border-gray-200 p-6">
                    <div class="text-center py-12">
                        <i data-lucide="bar-chart-2" class="w-16 h-16 text-gray-300 mx-auto mb-4"></i>
                        <h3 class="text-lg font-medium text-gray-900 mb-2">No Analytics Data Yet</h3>
                        <p class="text-gray-600">Analytics will appear here once the product is published and has
                            activity</p>
                    </div>
                </div>
            </div>

            <!-- Production Tab -->
            <div class="tab-content hidden" data-content="production">
                <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mb-6">
                    <p class="text-sm text-blue-700">
                        <i data-lucide="info" class="w-4 h-4 inline mr-1"></i>
                        <strong>Purpose:</strong> Production-specific settings and specifications
                    </p>
                </div>

                <div class="bg-white rounded-lg border border-gray-200 p-6 mb-6">
                    <h3 class="text-lg font-medium text-gray-900 mb-4">Production Specifications</h3>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Production Method</label>
                            <select name="production_method_detail"
                                class="w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option>Digital Offset Printing</option>
                                <option>Offset Printing</option>
                                <option>Screen Printing</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Machine/Equipment</label>
                            <input type="text" name="machine_equipment" value="HP Indigo 7900"
                                class="w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-lg border border-gray-200 p-6">
                    <h3 class="text-lg font-medium text-gray-900 mb-4">Production Notes & Instructions</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Pre-Production Checklist</label>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="checkbox" name="checklist_artwork" checked class="mr-2">
                                    <span class="text-sm">Client artwork approved</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" name="checklist_preflight" class="mr-2">
                                    <span class="text-sm">Pre-flight check passed</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" name="checklist_material" class="mr-2">
                                    <span class="text-sm">Material in stock</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" name="checklist_proofs" class="mr-2">
                                    <span class="text-sm">Color proofs confirmed</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- History Tab -->
            <div class="tab-content hidden" data-content="history">
                <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mb-6">
                    <p class="text-sm text-blue-700">
                        <i data-lucide="info" class="w-4 h-4 inline mr-1"></i>
                        <strong>Purpose:</strong> Complete audit trail of all changes to this product
                    </p>
                </div>

                <div class="bg-white rounded-lg border border-gray-200 p-6">
                    <h3 class="text-lg font-medium text-gray-900 mb-4">Product Change History</h3>

                    <div class="text-center py-12">
                        <i data-lucide="clock" class="w-16 h-16 text-gray-300 mx-auto mb-4"></i>
                        <h3 class="text-lg font-medium text-gray-900 mb-2">No History Yet</h3>
                        <p class="text-gray-600">Change history will appear here after the product is created</p>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function () {
        lucide.createIcons();

        // Tab switching
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');

        tabButtons.forEach(button => {
            button.addEventListener('click', function () {
                const targetTab = this.dataset.tab;

                // Update button states
                tabButtons.forEach(btn => {
                    btn.classList.remove('active', 'border-black', 'text-black');
                    btn.classList.add('border-transparent', 'text-gray-600');
                });
                this.classList.add('active', 'border-black', 'text-black');
                this.classList.remove('border-transparent', 'text-gray-600');

                // Update content visibility
                tabContents.forEach(content => {
                    if (content.dataset.content === targetTab) {
                        content.classList.remove('hidden');
                    } else {
                        content.classList.add('hidden');
                    }
                });

                // Reinitialize icons after tab switch
                lucide.createIcons();
            });
        });
    });
</script>
{% endblock %}